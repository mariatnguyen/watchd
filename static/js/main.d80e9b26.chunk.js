(this.webpackJsonpwatchd=this.webpackJsonpwatchd||[]).push([[0],[,,,,,,,,,,function(e){e.exports=JSON.parse('{"12":"Adventure","14":"Fantasy","16":"Animation","18":"Drama","27":"Horror","28":"Action","35":"Comedy","36":"History","53":"Thriller","80":"Crime","99":"Documentary","878":"Science Fiction","9648":"Mystery","10402":"Musical","10749":"Romance","10751":"Family","100000":"All"}')},,,function(e,t,a){},,function(e,t,a){},,,,,,function(e,t,a){},function(e,t,a){},,function(e,t,a){},,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var s=a(1),c=a.n(s),r=a(16),i=a.n(r),n=(a(21),a(14)),o=a(2),h=a(3),l=a(6),u=a(5),d=a(4),p=(a(22),a(0)),v=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this;return Object(p.jsxs)("header",{className:"header",children:[Object(p.jsx)("div",{className:"header__logo-container",children:Object(p.jsx)("a",{href:"/watchd/",children:Object(p.jsx)("img",{src:"./images/watchd.svg",className:"header__logo",alt:"Watchd",width:"250",height:"auto"})})}),Object(p.jsxs)("nav",{className:"navigation",children:[Object(p.jsx)("div",{className:"Search"===this.props.navigation?"navigation__link navigation__link--active":"navigation__link",onClick:function(t){return e.props.setNavigation(t)},children:"Search"}),Object(p.jsx)("div",{className:"Watched"===this.props.navigation?"navigation__link navigation__link--active":"navigation__link",onClick:function(t){return e.props.setNavigation(t)},children:"Watched"})]})]})}}]),a}(s.Component),j=(a(24),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).handleEnter=function(e){"Enter"===e.key&&s.props.setSearchTerm(s.searchInput.current.value)},s.searchInput=c.a.createRef(),s}return Object(h.a)(a,[{key:"render",value:function(){var e=this;return Object(p.jsx)("div",{className:"search-bar",children:Object(p.jsxs)("form",{className:"search-bar__field",children:[Object(p.jsx)("input",{ref:this.searchInput,id:"search-bar__input",className:"search-bar__input",type:"text",placeholder:"Search",onKeyDown:this.handleEnter}),Object(p.jsx)("button",{className:"search-bar__button",onClick:function(t){t.preventDefault(),e.props.setSearchTerm(e.searchInput.current.value)},children:Object(p.jsx)("img",{src:"./images/search.svg",alt:"search",width:"20",height:"20"})})]})})}}]),a}(s.PureComponent)),g=a(7),m=a.n(g),b=(a(27),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this;return Object(p.jsxs)("div",{className:"intro",children:[Object(p.jsx)(j,{setSearchTerm:this.props.setSearchTerm}),Object(p.jsxs)("div",{className:"intro__background",children:[Object(p.jsx)("div",{className:"intro__gradient"}),this.props.suggestedMovie.backdrop_path?Object(p.jsx)("div",{className:"intro__movie-image",children:Object(p.jsx)("img",{src:"https://image.tmdb.org/t/p/w500"+this.props.suggestedMovie.backdrop_path,alt:this.props.suggestedMovie.title,width:"100%",height:"auto"})}):null]}),Object(p.jsxs)("div",{className:"intro__movie-details",children:[Object(p.jsx)("p",{className:"intro__movie-title",children:this.props.suggestedMovie.title}),Object(p.jsx)("p",{className:"intro__movie-date",children:Object(p.jsx)(m.a,{format:"MMM Do, YYYY",children:this.props.suggestedMovie.release_date})}),Object(p.jsx)("div",{className:this.props.watched.includes(this.props.suggestedMovie)?"intro__movie-add--active":"intro__movie-add--inactive",onClick:this.props.watched.includes(this.props.suggestedMovie)?void 0:function(t){return e.props.setWatched(t,e.props.suggestedMovie)}})]})]})}}]),a}(s.PureComponent)),_=a(11),O=(a(28),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var s=arguments.length,c=new Array(s),r=0;r<s;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).addPagination=function(){for(var t=[],a=function(a){t.push(Object(p.jsx)("span",{className:e.props.searchPage===a?"pagination__btn-page pagination__btn--active":"pagination__btn-page",onClick:function(t){e.props.setPage(a)},children:a},a))},s=1;s<=e.props.searchResults.total_pages;s++)a(s);return e.props.searchResults.total_pages<=5?t:e.props.searchPage<=e.props.searchResults.total_pages-5?[t.slice(e.props.searchPage-1,e.props.searchPage+4),"...",t[e.props.searchResults.total_pages-1]]:[t.slice(e.props.searchPage-1,e.props.searchPage+4)]},e}return Object(h.a)(a,[{key:"render",value:function(){var e=this;return Object(p.jsxs)("div",{className:"pagination",children:[1!==this.props.searchPage?Object(p.jsx)("span",{className:"pagination__btn-prev",onClick:function(t){e.props.prevPage()},children:"\u2039"}):null,this.addPagination(),this.props.searchPage!==this.props.searchResults.total_pages?Object(p.jsx)("span",{className:"pagination__btn-next",onClick:function(t){e.props.nextPage()},children:"\u203a"}):null]})}}]),a}(s.PureComponent)),f=(a(15),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return Object(p.jsxs)("div",{className:"search-results__nothing-found",children:[Object(p.jsx)("h1",{children:"Nothing found. \ud83d\udc40"}),Object(p.jsx)("h3",{children:"Try searching again."})]})}}]),a}(s.PureComponent)),x=a(10),N=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var s=arguments.length,c=new Array(s),r=0;r<s;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).listMovies=function(t,a){var s=[];if(Object.entries(x).map((function(e){var a=Object(_.a)(e,2),c=a[0],r=a[1];return t.genre_ids.map((function(e){return c===e.toString()&&s.push(Object(p.jsx)("span",{className:"search-results__movie-genre",children:r},"".concat(t-c,"-").concat(r))),null})),s})),null!==t.poster_path&&0!==t.vote_average)return Object(p.jsxs)("div",{className:"search-results__movie",children:[Object(p.jsx)("div",{className:"search-results__movie-image-wrapper",children:Object(p.jsx)("img",{className:"search-results__movie-image",src:"https://image.tmdb.org/t/p/w500"+t.poster_path,alt:t.title,width:"100%",height:"auto"})}),Object(p.jsxs)("div",{className:"search-results__movie-description",children:[Object(p.jsx)("div",{className:"search-results__movie-title",children:t.title}),Object(p.jsxs)("div",{className:"search-results__movie-rating",children:[Object(p.jsx)("span",{className:"search-results__movie-stars",children:Math.round(t.vote_average)+"/10, "}),Object(p.jsx)("span",{className:"search-results__movie-vote-vount",children:1!==t.vote_average?e.numberWithCommas(t.vote_count)+" votes":t.vote_count+" vote"})]}),Object(p.jsx)("div",{className:"search-results__movie-release-date",children:Object(p.jsx)(m.a,{format:"MMM Do, YYYY",children:t.release_date})}),Object(p.jsx)("div",{className:"search-results__movie-genres",children:s}),Object(p.jsx)("div",{className:e.props.watched.includes(t)?"search-results__movie-add--active":"search-results__movie-add--inactive",onClick:e.props.watched.includes(t)?void 0:function(a){return e.props.setWatched(a,t)}})]})]},t.id)},e}return Object(h.a)(a,[{key:"numberWithCommas",value:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},{key:"render",value:function(){for(var e=[],t=1;t<=this.props.searchResults.total_pages;t++)e.push(Object(p.jsx)("span",{children:t},t));return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(j,{setSearchTerm:this.props.setSearchTerm}),Object(p.jsxs)("div",{className:"search-results",children:[Object(p.jsx)("div",{className:"search-results__movies",children:0!==this.props.searchResults.length?this.props.searchResults.results.map(this.listMovies):null}),0!==this.props.searchResults.length&&0!==this.props.searchResults.results.length?Object(p.jsx)(O,{setPage:this.props.setPage,searchPage:this.props.searchPage,prevPage:this.props.prevPage,nextPage:this.props.nextPage,searchResults:this.props.searchResults}):null,0!==this.props.searchResults.length&&0===this.props.searchResults.results.length?Object(p.jsx)(f,{}):null]})]})}}]),a}(s.PureComponent),w=(a(13),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this;return Object(p.jsxs)("div",{className:"watched-list__empty",children:[Object(p.jsx)("h3",{children:"Your watched list is empty."}),Object(p.jsxs)("h4",{children:[Object(p.jsx)("button",{className:"watched-list__empty-search",onClick:function(t){return e.props.setNavigation(t)},children:"Search"})," for movies to add to get started."]})]})}}]),a}(s.PureComponent)),y=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this;return Object(p.jsx)("div",{className:"watched-list__clear",onClick:function(t){return e.props.clearWatched()},children:"Remove all watched movies"})}}]),a}(s.PureComponent),P=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var s=arguments.length,c=new Array(s),r=0;r<s;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).listMovies=function(t,a){var s=[];if(Object.entries(x).map((function(e){var a=Object(_.a)(e,2),c=a[0],r=a[1];return t.genre_ids.map((function(e){return c===e.toString()&&s.push(Object(p.jsx)("span",{className:"watched-list__movie-genre",children:r},"".concat(t.id,"-").concat(r))),null})),s})),null!==t.poster_path&&0!==t.vote_average)return Object(p.jsxs)("div",{className:"watched-list__movie",children:[Object(p.jsx)("div",{className:"watched-list__movie-image-wrapper",children:Object(p.jsx)("img",{className:"watched-list__movie-image",src:"https://image.tmdb.org/t/p/w500"+t.poster_path,alt:t.title,width:"100%",height:"auto"})}),Object(p.jsxs)("div",{className:"watched-list__movie-description",children:[Object(p.jsx)("div",{className:"watched-list__movie-title",children:t.title}),Object(p.jsxs)("div",{className:"watched-list__movie-rating",children:[Object(p.jsx)("span",{className:"watched-list__movie-stars",children:Math.round(t.vote_average)+"/10, "}),Object(p.jsx)("span",{className:"watched-list__movie-vote-vount",children:1!==t.vote_average?e.numberWithCommas(t.vote_count)+" votes":t.vote_count+" vote"})]}),Object(p.jsx)("div",{className:"watched-list__movie-release-date",children:Object(p.jsx)(m.a,{format:"MMM Do, YYYY",children:t.release_date})}),Object(p.jsx)("div",{className:"watched-list__movie-genres",children:s}),Object(p.jsx)("div",{className:"watched-list__movie-overview",children:t.overview}),Object(p.jsx)("div",{className:"watched-list__movie-remove",onClick:function(a){return e.props.removeWatched(a,t)}})]})]},t.id)},e}return Object(h.a)(a,[{key:"numberWithCommas",value:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},{key:"render",value:function(){return Object(p.jsxs)("div",{className:"watched-list",children:[0!==this.props.watched.length?this.props.watched.map(this.listMovies):Object(p.jsx)(w,{setNavigation:this.props.setNavigation}),0!==this.props.watched.length&&Object(p.jsx)(y,{clearWatched:this.props.clearWatched})]})}}]),a}(s.PureComponent),k=(a(29),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return Object(p.jsxs)("footer",{className:"footer",children:[Object(p.jsxs)("p",{className:"footer__credit",children:[Object(p.jsx)("span",{className:"footer__powered-by",children:"Powered by "}),Object(p.jsx)("a",{href:"https://www.themoviedb.org",target:"_blank",rel:"noreferrer",children:Object(p.jsx)("img",{src:"./images/themoviedatabase.svg",alt:"The Movie Database",width:"150",height:"auto"})})]}),Object(p.jsx)("p",{className:"footer__github",children:Object(p.jsx)("a",{href:"https://github.com/mariatnguyen",target:"_blank",rel:"noreferrer",children:"mariatnguyen @ Github"})})]})}}]),a}(s.Component)),S=(a(30),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).state={navigation:"Search",suggestedMovie:[],searchTerm:"",searchPage:1,searchResults:[],watched:JSON.parse(localStorage.getItem("watched"))||[]},s.setNavigation=s.setNavigation.bind(Object(l.a)(s)),s.fetchIntro=s.fetchIntro.bind(Object(l.a)(s)),s.setSearchTerm=s.setSearchTerm.bind(Object(l.a)(s)),s.setPage=s.setPage.bind(Object(l.a)(s)),s.prevPage=s.prevPage.bind(Object(l.a)(s)),s.nextPage=s.nextPage.bind(Object(l.a)(s)),s.setWatched=s.setWatched.bind(Object(l.a)(s)),s.removeWatched=s.removeWatched.bind(Object(l.a)(s)),s.clearWatched=s.clearWatched.bind(Object(l.a)(s)),s}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.fetchIntro()}},{key:"setNavigation",value:function(e){this.setState({navigation:e.target.innerHTML})}},{key:"fetchIntro",value:function(){var e=this,t=Math.floor(50*Math.random()+1);0===this.state.suggestedMovie.length&&fetch("https://api.themoviedb.org/3/discover/movie?api_key=".concat("6a2d5616a9a22af73beadb18fb609e18","&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&without_genres=27&page=").concat(t)).then((function(e){return e.json()})).then((function(t){var a=Math.floor(Math.random()*t.results.length);e.setState({suggestedMovie:t.results[a]})})).catch((function(e){return console.log(e)}))}},{key:"setSearchTerm",value:function(e){var t=this;0!==e.length&&this.setState({searchTerm:e,searchPage:1},(function(){t.startSearch(t.state.searchTerm,t.state.searchPage)}))}},{key:"setPage",value:function(e){var t=this;this.setState({searchPage:e},(function(){t.startSearch(t.state.searchTerm,t.state.searchPage)}))}},{key:"startSearch",value:function(e,t){var a=this;fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat("6a2d5616a9a22af73beadb18fb609e18","&language=en-US&include_adult=false&query=").concat(e,"&page=").concat(t)).then((function(e){return e.json()})).then((function(e){a.setState({searchResults:e})})).catch((function(e){return console.log(e)}))}},{key:"prevPage",value:function(){var e=this;this.state.searchPage>1&&this.setState((function(e){return{searchPage:e.searchPage-1}}),(function(){e.startSearch(e.state.searchTerm,e.state.searchPage)}))}},{key:"nextPage",value:function(){var e=this;this.state.searchPage<this.state.searchResults.total_pages&&this.setState((function(e){return{searchPage:e.searchPage+1}}),(function(){e.startSearch(e.state.searchTerm,e.state.searchPage)}))}},{key:"setWatched",value:function(e,t){this.setState({watched:this.state.watched.includes(t)?this.state.watched:[].concat(Object(n.a)(this.state.watched),[t])})}},{key:"removeWatched",value:function(e,t){this.setState({watched:Object(n.a)(this.state.watched.filter((function(e){return e!==t})))})}},{key:"clearWatched",value:function(){this.setState({watched:[]}),localStorage.clear()}},{key:"render",value:function(){return localStorage.setItem("watched",JSON.stringify(this.state.watched)),Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(v,{setNavigation:this.setNavigation,navigation:this.state.navigation}),"Search"===this.state.navigation&&0===this.state.searchTerm.length?Object(p.jsx)(b,{setSearchTerm:this.setSearchTerm,suggestedMovie:this.state.suggestedMovie,setWatched:this.setWatched,watched:this.state.watched}):null,"Search"===this.state.navigation&&0!==this.state.searchTerm.length?Object(p.jsx)(N,{setSearchTerm:this.setSearchTerm,setPage:this.setPage,prevPage:this.prevPage,nextPage:this.nextPage,searchTerm:this.state.searchTerm,searchResults:this.state.searchResults,searchPage:this.state.searchPage,setWatched:this.setWatched,watched:this.state.watched}):null,"Watched"===this.state.navigation&&Object(p.jsx)(P,{watched:this.state.watched,setNavigation:this.setNavigation,removeWatched:this.removeWatched,clearWatched:this.clearWatched}),Object(p.jsx)(k,{})]})}}]),a}(s.Component));i.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(S,{})}),document.getElementById("root"))}],[[31,1,2]]]);
//# sourceMappingURL=main.d80e9b26.chunk.js.map