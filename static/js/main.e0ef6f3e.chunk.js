(this.webpackJsonpwatchd=this.webpackJsonpwatchd||[]).push([[0],[,,,,,,,,function(e){e.exports=JSON.parse('{"12":"Adventure","14":"Fantasy","16":"Animation","18":"Drama","27":"Horror","28":"Action","35":"Comedy","36":"History","53":"Thriller","80":"Crime","99":"Documentary","878":"Science Fiction","9648":"Mystery","10402":"Musical","10749":"Romance","10751":"Family","100000":"All"}')},function(e,t,a){},function(e,t,a){},,,,,,,,function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},,,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var s=a(1),r=a.n(s),n=a(11),c=a.n(n),i=(a(18),a(2)),h=a(3),o=a(6),l=a(5),u=a(4),p=(a(19),a(0)),j=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this;return Object(p.jsxs)("header",{className:"header",children:[Object(p.jsx)("div",{className:"header__logo-container",children:Object(p.jsx)("a",{href:"/watchd/",children:Object(p.jsx)("img",{src:"./images/watchd.svg",className:"header__logo",alt:"Watchd",width:"250",height:"auto"})})}),Object(p.jsxs)("nav",{className:"navigation",children:[Object(p.jsx)("div",{className:"Search"===this.props.navigation?"navigation__link navigation__link--active":"navigation__link",onClick:function(t){return e.props.setNavigation(t)},children:"Search"}),Object(p.jsx)("div",{className:"Watched"===this.props.navigation?"navigation__link navigation__link--active":"navigation__link",onClick:function(t){return e.props.setNavigation(t)},children:"Watched"})]})]})}}]),a}(s.Component),g=(a(21),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).handleEnter=function(e){"Enter"===e.key&&s.props.setSearchTerm(s.searchInput.current.value)},s.searchInput=r.a.createRef(),s}return Object(h.a)(a,[{key:"emptySearch",value:function(e){console.log("empty")}},{key:"render",value:function(){var e=this;return Object(p.jsx)("div",{className:"search-bar",children:Object(p.jsxs)("form",{className:"search-bar__field",children:[Object(p.jsx)("input",{ref:this.searchInput,id:"search-bar__input",className:"search-bar__input",type:"text",placeholder:"Search",onKeyDown:this.handleEnter}),Object(p.jsx)("button",{className:"search-bar__button",onClick:function(t){t.preventDefault(),e.props.setSearchTerm(e.searchInput.current.value)},children:Object(p.jsx)("img",{src:"./images/search.svg",alt:"search",width:"20",height:"20"})})]})})}}]),a}(s.PureComponent)),v=a(13),d=(a(22),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).addPagination=function(){for(var t=[],a=function(a){t.push(Object(p.jsx)("span",{className:e.props.searchPage===a?"pagination__btn-page pagination__btn--active":"pagination__btn-page",onClick:function(t){e.props.setPage(a)},children:a},a))},s=1;s<=e.props.searchResults.total_pages;s++)a(s);return e.props.searchResults.total_pages<=5?t:e.props.searchPage<=e.props.searchResults.total_pages-5?[t.slice(e.props.searchPage-1,e.props.searchPage+4),"...",t[e.props.searchResults.total_pages-1]]:[t.slice(e.props.searchPage-1,e.props.searchPage+4)]},e}return Object(h.a)(a,[{key:"render",value:function(){var e=this;return Object(p.jsxs)("div",{className:"pagination",children:[1!==this.props.searchPage?Object(p.jsx)("span",{className:"pagination__btn-prev",onClick:function(t){e.props.prevPage()},children:"\u2039"}):null,this.addPagination(),this.props.searchPage!==this.props.searchResults.total_pages?Object(p.jsx)("span",{className:"pagination__btn-next",onClick:function(t){e.props.nextPage()},children:"\u203a"}):null]})}}]),a}(s.PureComponent)),b=(a(9),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return Object(p.jsxs)("div",{className:"search-results__nothing-found",children:[Object(p.jsx)("h1",{children:"Nothing found. \ud83d\udc40"}),Object(p.jsx)("h3",{children:"Try searching again."})]})}}]),a}(s.PureComponent)),m=a(12),O=a.n(m),f=a(8),_=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).listMovies=function(e,t){var a=[];if(Object.entries(f).map((function(t){var s=Object(v.a)(t,2),r=s[0],n=s[1];return e.genre_ids.map((function(e){return r===e.toString()&&a.push(Object(p.jsx)("span",{className:"search-results__movie-genre",children:n},"".concat(n,"-").concat(r))),null})),a})),null!==e.poster_path&&0!==e.vote_average)return Object(p.jsxs)("div",{className:"search-results__movie",children:[Object(p.jsx)("div",{className:"search-results__movie-image-wrapper",children:Object(p.jsx)("img",{className:"search-results__movie-image",src:"https://image.tmdb.org/t/p/w500"+e.poster_path,alt:e.title,width:"100%",height:"auto"})}),Object(p.jsxs)("div",{className:"search-results__movie-description",children:[Object(p.jsx)("div",{className:"search-results__movie-title",children:e.title}),Object(p.jsxs)("div",{className:"search-results__movie-rating",children:[Object(p.jsx)("span",{className:"search-results__movie-stars",children:Math.round(e.vote_average)+"/10, "}),Object(p.jsx)("span",{className:"search-results__movie-vote-vount",children:1!==e.vote_average?e.vote_count+" votes":e.vote_count+" vote"})]}),Object(p.jsx)("div",{className:"search-results__movie-release-date",children:Object(p.jsx)(O.a,{format:"MMM Do, YYYY",children:e.release_date})}),Object(p.jsx)("div",{className:"search-results__movie-genres",children:a}),Object(p.jsx)("div",{className:"search-results__movie-add"})]})]},"".concat(e.title,"-").concat(t))},e}return Object(h.a)(a,[{key:"render",value:function(){for(var e=[],t=1;t<=this.props.searchResults.total_pages;t++)e.push(Object(p.jsx)("span",{children:t},t));return Object(p.jsxs)("div",{className:"search-results",children:[Object(p.jsx)("div",{className:"search-results__movies",children:0!==this.props.searchResults.length?this.props.searchResults.results.map(this.listMovies):null}),0!==this.props.searchResults.length&&0!==this.props.searchResults.results.length?Object(p.jsx)(d,{setPage:this.props.setPage,searchPage:this.props.searchPage,prevPage:this.props.prevPage,nextPage:this.props.nextPage,searchResults:this.props.searchResults}):null,0!==this.props.searchResults.length&&0===this.props.searchResults.results.length?Object(p.jsx)(b,{}):null]})}}]),a}(s.PureComponent),x=(a(10),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this;return Object(p.jsxs)("div",{className:"watched-list__empty",children:[Object(p.jsx)("h3",{children:"Your watched list is empty."}),Object(p.jsxs)("h4",{children:[Object(p.jsx)("a",{href:"#",onClick:function(t){return e.props.setNavigation(t)},children:"Search"})," for movies to add to get started."]})]})}}]),a}(s.PureComponent)),P=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return Object(p.jsx)("div",{className:"watched-list",children:0===this.props.watched.length&&Object(p.jsx)(x,{setNavigation:this.props.setNavigation})})}}]),a}(s.PureComponent),N=(a(25),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return Object(p.jsxs)("footer",{className:"footer",children:[Object(p.jsxs)("p",{className:"footer__credit",children:[Object(p.jsx)("span",{className:"footer__powered-by",children:"Powered by "}),Object(p.jsx)("a",{href:"https://www.themoviedb.org",target:"_blank",rel:"noreferrer",children:Object(p.jsx)("img",{src:"./images/themoviedatabase.svg",alt:"The Movie Database",width:"150",height:"auto"})})]}),Object(p.jsx)("p",{className:"footer__github",children:Object(p.jsx)("a",{href:"https://github.com/mariatnguyen",target:"_blank",rel:"noreferrer",children:"mariatnguyen @ Github"})})]})}}]),a}(s.Component)),y=(a(26),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={navigation:"Search",searchTerm:"",searchPage:1,searchResults:[],watched:[]},s.setNavigation=s.setNavigation.bind(Object(o.a)(s)),s.setSearchTerm=s.setSearchTerm.bind(Object(o.a)(s)),s.setPage=s.setPage.bind(Object(o.a)(s)),s.prevPage=s.prevPage.bind(Object(o.a)(s)),s.nextPage=s.nextPage.bind(Object(o.a)(s)),s}return Object(h.a)(a,[{key:"setNavigation",value:function(e){this.setState({navigation:e.target.innerHTML})}},{key:"setSearchTerm",value:function(e){var t=this;0!==e.length&&this.setState({searchTerm:e,searchPage:1},(function(){t.startSearch(t.state.searchTerm,t.state.searchPage)}))}},{key:"setPage",value:function(e){var t=this;this.setState({searchPage:e},(function(){t.startSearch(t.state.searchTerm,t.state.searchPage)}))}},{key:"startSearch",value:function(e,t){var a=this;fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat("6a2d5616a9a22af73beadb18fb609e18","&language=en-US&include_adult=false&query=").concat(e,"&page=").concat(t)).then((function(e){return e.json()})).then((function(e){a.setState({searchResults:e})})).catch((function(e){return console.log(e)}))}},{key:"prevPage",value:function(){var e=this;this.state.searchPage>1&&this.setState((function(e){return{searchPage:e.searchPage-1}}),(function(){e.startSearch(e.state.searchTerm,e.state.searchPage)}))}},{key:"nextPage",value:function(){var e=this;this.state.searchPage<this.state.searchResults.total_pages&&this.setState((function(e){return{searchPage:e.searchPage+1}}),(function(){e.startSearch(e.state.searchTerm,e.state.searchPage)}))}},{key:"setWatched",value:function(e){this.setState({watched:[]})}},{key:"render",value:function(){return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(j,{setNavigation:this.setNavigation,navigation:this.state.navigation}),"Search"===this.state.navigation&&Object(p.jsx)(g,{setSearchTerm:this.setSearchTerm}),"Search"===this.state.navigation&&Object(p.jsx)(_,{setPage:this.setPage,prevPage:this.prevPage,nextPage:this.nextPage,searchTerm:this.state.searchTerm,searchResults:this.state.searchResults,searchPage:this.state.searchPage}),"Watched"===this.state.navigation&&Object(p.jsx)(P,{watched:this.state.watched,setNavigation:this.setNavigation}),Object(p.jsx)(N,{})]})}}]),a}(s.Component));c.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(y,{})}),document.getElementById("root"))}],[[27,1,2]]]);
//# sourceMappingURL=main.e0ef6f3e.chunk.js.map